<h3><?php var_dump($this->_vars); ?></h3>
<input type="hidden" name="uniAclConfig" value='<?php echo json_encode($this->uniAclConfig); ?>'>
<input type="hidden" name="userActionOnRole" value='<?php echo json_encode($this->userActionOnRole); ?>'>
<div class="row">
    <div class="col-md-8">
        <div class="col-md-10 col-md-offset-1">

            <div class="panel panel-default panel-table">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col col-xs-6">
                            <h3 class="panel-title">Role</h3>
                        </div>
                        <div class="col col-xs-6 text-right">
                            <button class="btn btn-primary" data-toggle="modal" data-target="#formAddRole"><span
                                    class="glyphicon glyphicon-plus"</span></button>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <table class="table table-striped table-bordered table-list">
                        <thead>
                        <tr>
                            <th>role</th>
                            <th>inherit</th>
                            <th><em class="fa fa-cog"></em></th>

                        </tr>
                        </thead>
                        <tbody id="roleList">
                        <tr>
                            <td>admin</td>
                            <td>editor</td>
                            <td align="center">
                                <a class="btn btn-default"><em class="fa fa-pencil"></em></a>
                                <a class="btn btn-danger"><em class="fa fa-trash"></em></a>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                </div>
                <div class="panel-footer">
                </div>
            </div>
            <div class="modal fade" id="formAddRole">
                <div class="col-md-4 col-md-offset-4">
                    <div class="panel panel-default panel-table">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col col-xs-6">
                                    <h3 class="panel-title">Role</h3>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body">
                            <table class="table table-striped table-bordered table-list">
                                <thead>
                                <tr>
                                    <th>role</th>
                                    <th>inherit</th>

                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td><input type="text" class="form-control" name="role" placeholder="role"></td>
                                    <td><input type="text" class="form-control" name="inherit" placeholder="inherit">
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                        </div>
                        <div class="panel-footer">
                            <div class="row">
                                <div class="col-md-4 col-md-offset-8">
                                    <button class="btn btn-primary pull-right" id="btnAddRole">add</button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><!--   end of column-->
</div>
<div>
    <input type="checkbox" name="FrontEnd\Controller\Index[]" value="view">
    <input type="checkbox" name="FrontEnd[]" value="edit">
    <input type="checkbox" name="FrontEnd[]" value="add">
    <input type="checkbox" name="FrontEnd[]" value="delete">
</div>
<script>
    (function($){
        $(document).ready(function(){
            const ROLE = "ROLE";
            const CONTROLLER_ACTION = "CONTROLLER_ACTION";
            const ACTION = "ACTION";
            const SPECIAL = "SPECIAL";
            const MAP_ROLE_CONTROLLER = "MAP_ROLE_CONTROLLER";
            const MAP_ROLE_SPECIAL = "MAP_ROLE_SPECIAL";
            const MAP_USER_SPECIAL = "MAP_USER_SPECIAL";
            var uniAclConfig = JSON.parse($("input[name = 'uniAclConfig']").val());
            var userActionOnRole = JSON.parse($("input[name = 'userActionOnRole']").val());
            console.log(uniAclConfig);
            console.log(userActionOnRole);

            var btnAddRole = $("#btnAddRole");
            var roleList = $("#roleList");
            var formAddRole = $("#formAddRole");
            btnAddRole.on("click", function(){
                var role = $("input[name='role']").val();
                var inherit = $("input[name='inherit']").val();
                var tr = $("<tr>");
                var td1 = $("<td>");
                var td2 = $("<td>");
                td1.html(role);
                td2.html(inherit);
                var td3 = $('<td align="center"> <a class="btn btn-default"><em class="fa fa-pencil"></em></a> <a class="btn btn-danger"><em class="fa fa-trash"></em></a> </td>');
                tr.append(td1);
                tr.append(td2);
                tr.append(td3);
                tr.appendTo(roleList);
                formAddRole.modal("hide");
            });
            roleList.on("click", "tr", function(){
//               window.alert(this);
                console.log(this);
//                var tr = $(this).parent("tr");
//                console.log(tr);
//                var td1 = tr[0];
//                var td2 = tr[1];
//                console.log(td1, td2);
                var tds = $(this).find("td");
                var td1 = tds[0]; console.log(td1);
                var td2 = tds[1]; console.log(td2);
            });

        });
    })(jQuery);
</script>

